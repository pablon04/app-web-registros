<div class="container-humedades">
    
    
    <div class="registrar">
        <h2>Registrar Nueva Humedad</h2>
        <form action="#">
            <input [(ngModel)]="tara" type="text" id="tara" name="tara" placeholder="Tara" />
            <input [(ngModel)]="muestra" type="text" id="muestra" name="muestra" placeholder="NÂº Muestra" />
            <input [(ngModel)]="ensayo" type="text" id="ensayo" name="ensayo" placeholder="Ensayo" />
            <input [(ngModel)]="horno" type="text" id="horno" name="horno" placeholder="Horno" />

            <button type="button" (click)="agregarRegistro()" class="agregar-btn">
                <i class="fa-solid fa-plus"></i>Agregar
            </button>
        </form>
    </div>

    
    
    <div class="registros">

        <h2>Registros de Humedades</h2>

        <input type="search" 
               [(ngModel)]="terminoBusqueda" 
               name="busqueda" 
               class="main__input"
               placeholder="Buscar en registros">

        <table>
            <tr>
                <th>Tara</th>
                <th>Muestra</th>
                <th>Ensayo</th>
                <th>Horno</th>
                <th>Acciones</th>
            </tr>
        @for (registro of registrosFiltrados; track registro; let i = $index) {
            
            <tr class="main__text" [ngClass]="{'destacado': terminoBusqueda && 
                (registro.tara.toLowerCase().includes(terminoBusqueda.toLowerCase()) ||
                 registro.muestra.toLowerCase().includes(terminoBusqueda.toLowerCase()) ||
                 registro.ensayo.toLowerCase().includes(terminoBusqueda.toLowerCase()) ||
                 registro.horno.toLowerCase().includes(terminoBusqueda.toLowerCase())
                )}">
                <td class="tara">{{ registro.tara }}</td>
                <td class="muestra">{{ registro.muestra }}</td>
                <td class="ensayo">{{ registro.ensayo }}</td>
                <td class="horno">{{ registro.horno }}</td>
                <td class="borrar">
                <button type="button" class="eliminar-btn" (click)="eliminarRegistro(i)">
                    <i class="fas fa-trash"></i>
                </button></td>
            </tr>
        }
            
        </table>
    </div>

</div>